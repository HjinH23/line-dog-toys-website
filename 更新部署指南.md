# 更新已部署项目 - 快速指南

## 重要提示

您的PowerShell当前无法识别Git命令,这意味着您可能是在以下环境中部署的:
- VSCode内置终端
- Git Bash
- 其他命令行工具

**解决方案**: 在您之前部署项目的同一个终端中执行更新命令。

---

## 方案一:使用VSCode终端(推荐)

如果您是在VSCode中部署的:

1. **打开VSCode**
   - 用VSCode打开项目文件夹: `e:\Antigravity\code\project1`

2. **打开终端**
   - 按 `` Ctrl+` `` (反引号键)
   - 或菜单: 终端 → 新建终端

3. **执行更新命令**
   ```bash
   # 添加所有修改
   git add .
   
   # 提交更改
   git commit -m "修复Next.js安全漏洞,更新到v15.1.4"
   
   # 推送到GitHub
   git push
   ```

4. **等待Vercel自动部署**
   - 1-2分钟后访问你的网站
   - 查看更新是否生效

---

## 方案二:使用Git Bash

如果您安装了Git Bash:

1. **打开Git Bash**
   - 在项目文件夹右键 → "Git Bash Here"
   - 或打开Git Bash后: `cd /e/Antigravity/code/project1`

2. **执行更新命令**
   ```bash
   git add .
   git commit -m "修复Next.js安全漏洞,更新到v15.1.4"
   git push
   ```

---

## 方案三:配置PowerShell的Git环境

如果想在PowerShell中使用Git:

1. **确认Git已安装**
   - 检查 `C:\Program Files\Git\cmd\git.exe` 是否存在

2. **重启PowerShell**
   - 关闭所有PowerShell窗口
   - 重新打开PowerShell

3. **如果还是不行,手动添加到PATH**
   ```powershell
   # 临时添加(本次会话有效)
   $env:Path += ";C:\Program Files\Git\cmd"
   
   # 验证
   git --version
   ```

4. **然后执行更新命令**
   ```powershell
   cd e:\Antigravity\code\project1
   git add .
   git commit -m "修复Next.js安全漏洞,更新到v15.1.4"
   git push
   ```

---

## 方案四:使用GitHub Desktop(图形界面)

如果不想用命令行:

1. **下载GitHub Desktop**
   - 访问 https://desktop.github.com/
   - 下载并安装

2. **打开项目**
   - File → Add Local Repository
   - 选择 `e:\Antigravity\code\project1`

3. **提交更改**
   - 左侧会显示所有修改的文件
   - 在底部输入提交信息: "修复Next.js安全漏洞,更新到v15.1.4"
   - 点击 "Commit to main"

4. **推送到GitHub**
   - 点击顶部的 "Push origin" 按钮

---

## 验证更新

推送成功后:

1. **访问GitHub仓库**
   - 查看最新提交是否显示

2. **访问Vercel控制台**
   - https://vercel.com
   - 进入你的项目
   - 查看 Deployments 标签
   - 应该看到新的部署正在进行

3. **等待部署完成**
   - 通常1-2分钟
   - 收到邮件通知

4. **访问网站**
   - 打开你的网站(如 `https://line-dog-toys.vercel.app`)
   - 按 Ctrl+F5 强制刷新
   - 检查更新是否生效

---

## 快速检查清单

- [ ] 在正确的终端中(VSCode/Git Bash/PowerShell)
- [ ] 进入项目目录: `cd e:\Antigravity\code\project1`
- [ ] 执行: `git add .`
- [ ] 执行: `git commit -m "修复安全漏洞"`
- [ ] 执行: `git push`
- [ ] 等待Vercel自动部署
- [ ] 访问网站验证更新

---

## 常见问题

**Q: git push要求输入用户名密码?**
A: 使用Personal Access Token,不是密码。在GitHub Settings → Developer settings → Personal access tokens 生成。

**Q: 推送失败,提示rejected?**
A: 先执行 `git pull` 拉取最新代码,然后再 `git push`。

**Q: Vercel没有自动部署?**
A: 检查Vercel项目设置中的Git集成是否正常连接。

---

## 推荐做法

**最简单**: 使用VSCode终端或Git Bash  
**最直观**: 使用GitHub Desktop图形界面  
**最灵活**: 配置好PowerShell的Git环境

选择您最熟悉的方式即可!
